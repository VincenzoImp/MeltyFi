<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="751px" height="1174px" viewBox="-0.5 -0.5 751 1174" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2023-01-10T19:23:37.599Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36&quot; version=&quot;20.8.3&quot; etag=&quot;tJsRFrTrmRY0ygA_Iq0k&quot;&gt;&lt;diagram id=&quot;12hMf0BIVQ0L64EZ4FJ-&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-123-171-502-394-0"><rect x="123" y="171" width="502" height="394"/></clipPath><clipPath id="mx-clip-123-573-502-602-0"><rect x="123" y="573" width="502" height="602"/></clipPath></defs><g><path d="M 119 166 L 119 140 L 629 140 L 629 166" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 119 166 L 119 1170 L 629 1170 L 629 166" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 119 166 L 629 166" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="373.5" y="157.5">MeltyFiNFT</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-123-171-502-394-0)" font-size="12px"><text x="124.5" y="183.5">+ lotteryState: enum</text><text x="124.5" y="197.5">+ Lottery: struct{</text><text x="124.5" y="211.5">    expirationDate: uint256</text><text x="124.5" y="225.5">    id: uint256</text><text x="124.5" y="239.5">    owner: address</text><text x="124.5" y="253.5">    prizeContract: IERC721</text><text x="124.5" y="267.5">    prizeTokenId: uint256</text><text x="124.5" y="281.5">    state: lotteryState</text><text x="124.5" y="295.5">    winner: address</text><text x="124.5" y="309.5">    wonkaBarsSold: uint256</text><text x="124.5" y="323.5">    wonkaBarsMaxSupply: uint256</text><text x="124.5" y="337.5">    wonkaBarPrice: uint256</text><text x="124.5" y="351.5">  }</text><text x="124.5" y="365.5">+ _contractChocoChip: ChocoChip internal immutable</text><text x="124.5" y="379.5">+ _contractLogoCollection: LogoCollection internal immutable </text><text x="124.5" y="393.5">+ _contractMeltyFiDAO: MeltyFiDAO internal immutable </text><text x="124.5" y="407.5">+ _contractVRFv2Consumer: VRFv2Consumer internal immutable </text><text x="124.5" y="421.5">+ _amountChocoChipPerEther: uint256 internal immutable </text><text x="124.5" y="435.5">+ _royaltyDAOPercentage: uint256 internal immutable </text><text x="124.5" y="449.5">+ _upperLimitBalanceOfPercentage: uint256 internal immutable </text><text x="124.5" y="463.5">+ _upperLimitMaxSupply: uint256 internal immutable </text><text x="124.5" y="477.5">+ _totalLotteriesCreated: uint256 internal </text><text x="124.5" y="491.5">+ _lotteryIdToLottery: mapping(uint256=&gt;Lottery) internal</text><text x="124.5" y="505.5">+ _lotteryOwnerToLotteryIds: mapping(address=&gt;EnumerableSet.UintSet) internal </text><text x="124.5" y="519.5">+ _wonkaBarHolderToLotteryIds: mapping(address=&gt;EnumerableSet.UintSet) internal</text><text x="124.5" y="533.5">+ _lotteryIdToWonkaBarHolders: mapping(uint256=&gt;EnumerableSet.AddressSet) internal</text><text x="124.5" y="547.5">+ _activeLotteryIds: EnumerableSet.UintSet internal </text></g><path d="M 119 564 L 629 564" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-123-573-502-602-0)" font-size="12px"><text x="124.5" y="585.5">+ constructor nonpayable (ChocoChip, LogoCollection, MeltyFiDAO, VRFv2Consumer): (void)</text><text x="124.5" y="599.5">+ receive(void): external payable (void)</text><text x="124.5" y="613.5">+ _addressChocoChip(void): internal view (address)</text><text x="124.5" y="627.5">+ _addressLogoCollection(void): internal view (address)</text><text x="124.5" y="641.5">+ _addressMeltyFiDAO(void): internal view (address)</text><text x="124.5" y="655.5">+ _afterTokenTransfer(address, address, address, uint256[], uint256[], bytes): internal (void)</text><text x="124.5" y="669.5">+ _amountToRefund(Lottery, address): internal view (uint256)</text><text x="124.5" y="683.5">+ _amountToRepay(Lottery, address): internal view (uint256)</text><text x="124.5" y="697.5">+ _beforeTokenTransfer(address, address, address, uint256[], uint256[], bytes): internal (void)</text><text x="124.5" y="711.5">+ _mintLogo(address): internal (void)</text><text x="124.5" y="725.5">+ activeLotteryIds(address): external view (uint256[])</text><text x="124.5" y="739.5">+ addressChocoChip(void): external view (uint256[])</text><text x="124.5" y="753.5">+ addressLogoCollection(void): external view (uint256[])</text><text x="124.5" y="767.5">+ addressMeltyFiDAO(void): external view (uint256[])</text><text x="124.5" y="781.5">+ amountToRefund(Lottery, address): external view (uint256)</text><text x="124.5" y="795.5">+ amountToRepay(Lottery, address): external view (uint256)</text><text x="124.5" y="809.5">+ checkUpkeep(bytes): external view cannotExecute (bool, bytes)</text><text x="124.5" y="823.5">+ getAmountChocoChipPerEther(void): external view (uint256)</text><text x="124.5" y="837.5">+ getLotteryExpirationDate(void): external view (uint256)</text><text x="124.5" y="851.5">+ getLotteryOwner(void): external view (address)</text><text x="124.5" y="865.5">+ getLotteryPrizeContract(void): external view (address)</text><text x="124.5" y="879.5">+ getLotteryPrizeTokenId(void): external view (uint256)</text><text x="124.5" y="893.5">+ getLotteryState(void): external view (uint256)</text><text x="124.5" y="907.5">+ getWinner(void): external view (address)</text><text x="124.5" y="921.5">+ getLotteryWonkaBarsSold(void): external view (uint256)</text><text x="124.5" y="935.5">+ getLotteryWonkaBarsMaxSupply(void): external view (uint256)</text><text x="124.5" y="949.5">+ getLotteryWonkaBarPrice(void): external view (uint256)</text><text x="124.5" y="963.5">+ getRoyaltyDAOPercentage(void): external view (uint256)</text><text x="124.5" y="977.5">+ getTotalLotteriesCreated(void): external view (uint256)</text><text x="124.5" y="991.5">+ getUpperLimitBalanceOfPercentage(void): external view (uint256)</text><text x="124.5" y="1005.5">+ getUpperLimitMaxSupply(void): external view (uint256)</text><text x="124.5" y="1019.5">+ holderInLotteryIds(address): external view (uint256[])</text><text x="124.5" y="1033.5">+ mintLogo(address): external (void)</text><text x="124.5" y="1047.5">+ onERC721Received(address, address, uint256, bytes): external pure (bytes4)</text><text x="124.5" y="1061.5">+ ownedLotteryIds(address): external view (uint256[])</text><text x="124.5" y="1075.5">+ performUpkeep(bytes): external (void)</text><text x="124.5" y="1089.5">+ snapshotChocoChip(void): external onlyOwner (void)</text><text x="124.5" y="1103.5">+ buyWonkaBars(uint256, uint256): public payable (void)</text><text x="124.5" y="1117.5">+ createLottery(uint256, IERC721, uint256, uint256, uint256): public (uint256) </text><text x="124.5" y="1131.5">+ drawWinner(uint256): public (void)</text><text x="124.5" y="1145.5">+ meltWonkaBars(uint256, uint256): public (void)</text><text x="124.5" y="1159.5">+ repayLoan(uint256): public (void)</text></g><rect x="274" y="0" width="200" height="60" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 374px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">«interface»<br /><b>@openzeppelin<br />IERC721Receiver</b></div></div></div></foreignObject><text x="374" y="34" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">«interface»...</text></switch></g><rect x="550" y="70" width="200" height="60" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 100px; margin-left: 650px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><b style="border-color: var(--border-color);">@chainlink<br style="border-color: var(--border-color);" />AutomationBase</b></div></div></div></foreignObject><text x="650" y="104" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">@chainlink...</text></switch></g><rect x="490" y="0" width="200" height="60" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 590px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><b style="border-color: var(--border-color);"><span style="font-weight: 400;">«interface»</span><br style="border-color: var(--border-color); font-weight: 400;" />@chainlink<br style="border-color: var(--border-color);" />AutomationCompatibleInterface</b></div></div></div></foreignObject><text x="590" y="34" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">«interface»...</text></switch></g><path d="M 200 100 L 219 100 L 219.06 132.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 219.07 137.85 L 215.56 130.86 L 219.06 132.6 L 222.56 130.85 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 239.8 60 L 239.86 131.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 239.87 136.82 L 236.36 129.83 L 239.86 131.57 L 243.36 129.82 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 511 60 L 510.88 132.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 510.87 137.82 L 507.38 130.82 L 510.88 132.57 L 514.38 130.83 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 100 L 530 100 L 530 133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 530 138.88 L 526.5 131.88 L 530 133.63 L 533.5 131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 374 60 L 374 133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 374 138.88 L 370.5 131.88 L 374 133.63 L 377.5 131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="0" y="70" width="200" height="60" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 100px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b style="border-color: var(--border-color);">@openzeppelin<br style="border-color: var(--border-color);" />Ownable</b></div></div></div></foreignObject><text x="100" y="104" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">@openzeppelin...</text></switch></g><rect x="60" y="0" width="200" height="60" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 30px; margin-left: 61px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>@openzeppelin<br />ERC1155Supply</b></div></div></div></foreignObject><text x="160" y="34" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">@openzeppelin...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>